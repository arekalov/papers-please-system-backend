openapi: 3.0.3

info:
  title: Papers Please API
  description: |
    API for the Papers Please system.
  contact:
    name: arekalov
    email: artyom.rekalov@gmail.com
    url: https://github.com/arekalov
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
  version: '1.0'
externalDocs:
  description: "Wiki of Papers Please System"
  url: https://wiki.yandex.ru/homepage/papers-please-system/

servers:
  - url: https://localhost:8080/api/v1
    description: Local development server


tags:
  - name: users
    description: User endpoints
  - name: upks
    description: UPK (checkpoint) endpoints
  - name: shifts
    description: Shift management endpoints
  - name: participations
    description: Shift participation endpoints
  - name: events
    description: Shift agenda events endpoints
  - name: tickets
    description: Ticket/application endpoints
  - name: documents
    description: Document management endpoints
  - name: notifications
    description: Notification management endpoints
  - name: appeals
    description: Appeal management endpoints
  - name: auth
    description: Authentication and authorization endpoints
  - name: reports
    description: Reporting and analytics endpoints



paths:
  /users:
    get:
      tags:
        - users
      summary: Get all users
      description: Returns a list of all users
      parameters:
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/RoleIdQueryParam'
        - $ref: '#/components/parameters/UpkIdQueryParam'
      responses:
        '200':
          description: A list of users
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - users
      summary: Add new user
      description: Create new user and return it
      parameters: 
        - $ref: '#/components/parameters/UserId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        '200':
          description: New user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /users/{id}:
    get:
      tags:
        - users    
      summary: Get user by ID
      description: Returns a user by ID
      parameters: 
        - $ref: '#/components/parameters/UserId'
      responses:
        '200':
          description: A user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - users
      summary: Update some fields of user
      parameters: 
        - $ref: '#/components/parameters/UserId'
      requestBody:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRequestPartial'
      responses:
        '200':
          description: A user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRequest'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - users
      summary: Update all userData
      parameters: 
        - $ref: '#/components/parameters/UserId'
      requestBody:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRequest'
      responses:
        '200':
          description: New user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - users
      summary: Path any field in user object
      parameters: 
        - $ref: '#/components/parameters/UserId'
      responses:
        '200':
          description: A user
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  
  /upks:
    get:
      tags:
        - upks
      summary: Get all UPKs
      description: Returns a list of all checkpoints
      parameters:
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
        - name: region
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Region'
          description: Filter by region
        - $ref: '#/components/parameters/BossIdQueryParam'
      responses:
        '200':
          description: A list of UPKs
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpksListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - upks
      summary: Create new UPK
      description: Create new checkpoint and return it
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpkRequest'
      responses:
        '201':
          description: Created UPK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpkResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
  
  /upks/{id}:
    get:
      tags:
        - upks
      summary: Get UPK by ID
      description: Returns a checkpoint by ID
      parameters:
        - $ref: '#/components/parameters/UpkId'
      responses:
        '200':
          description: A UPK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpkResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - upks
      summary: Update UPK
      description: Full update of checkpoint
      parameters:
        - $ref: '#/components/parameters/UpkId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpkRequest'
      responses:
        '200':
          description: Updated UPK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpkResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - upks
      summary: Partially update UPK
      description: Partial update of checkpoint fields
      parameters:
        - $ref: '#/components/parameters/UpkId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpkRequestPartial'
      responses:
        '200':
          description: Updated UPK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpkResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - upks
      summary: Delete UPK
      description: Delete checkpoint by ID
      parameters:
        - $ref: '#/components/parameters/UpkId'
      responses:
        '204':
          description: UPK deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  
  /shifts:
    get:
      tags:
        - shifts
      summary: Get all shifts
      description: Returns a list of all shifts
      parameters:
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/UpkIdQueryParam'
        - $ref: '#/components/parameters/ShiftDateParam'
        - $ref: '#/components/parameters/CreatedByParam'
      responses:
        '200':
          description: A list of shifts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShiftsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - shifts
      summary: Create new shift
      description: Create new shift and return it
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShiftRequest'
      responses:
        '201':
          description: Created shift
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShiftResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /shifts/{id}:
    get:
      tags:
        - shifts
      summary: Get shift by ID
      description: Returns a shift by ID
      parameters:
        - $ref: '#/components/parameters/ShiftId'
      responses:
        '200':
          description: A shift
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShiftResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - shifts
      summary: Update shift
      description: Full update of shift
      parameters:
        - $ref: '#/components/parameters/ShiftId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShiftRequest'
      responses:
        '200':
          description: Updated shift
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShiftResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - shifts
      summary: Partially update shift
      description: Partial update of shift fields
      parameters:
        - $ref: '#/components/parameters/ShiftId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShiftRequestPartial'
      responses:
        '200':
          description: Updated shift
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShiftResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - shifts
      summary: Delete shift
      description: Delete shift by ID
      parameters:
        - $ref: '#/components/parameters/ShiftId'
      responses:
        '204':
          description: Shift deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  
  /participations:
    get:
      tags:
        - participations
      summary: Get all participations
      description: Returns a list of all shift participations
      parameters:
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/UserIdQueryParam'
        - $ref: '#/components/parameters/ShiftIdQueryParam'
        - name: specialization
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Specialization'
          description: Filter by specialization
      responses:
        '200':
          description: A list of participations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParticipationsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - participations
      summary: Create new participation
      description: Add user to shift
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParticipationRequest'
      responses:
        '201':
          description: Created participation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParticipationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /participations/{id}:
    get:
      tags:
        - participations
      summary: Get participation by ID
      description: Returns a participation by ID
      parameters:
        - $ref: '#/components/parameters/ParticipationId'
      responses:
        '200':
          description: A participation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParticipationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - participations
      summary: Update participation
      description: Full update of participation
      parameters:
        - $ref: '#/components/parameters/ParticipationId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParticipationRequest'
      responses:
        '200':
          description: Updated participation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParticipationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - participations
      summary: Partially update participation
      description: Partial update of participation fields (bonuses/penalties)
      parameters:
        - $ref: '#/components/parameters/ParticipationId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ParticipationRequestPartial'
      responses:
        '200':
          description: Updated participation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParticipationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - participations
      summary: Delete participation
      description: Remove user from shift
      parameters:
        - $ref: '#/components/parameters/ParticipationId'
      responses:
        '204':
          description: Participation deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
  
  /events:
    get:
      tags:
        - events
      summary: Get all events
      description: Returns a list of all shift agenda events
      parameters:
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
        - $ref: '#/components/parameters/ShiftIdQueryParam'
        - $ref: '#/components/parameters/UserIdQueryParam'
        - name: priority
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Priority'
          description: Filter by priority
      responses:
        '200':
          description: A list of events
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - events
      summary: Create new event
      description: Create new agenda event for shift
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventRequest'
      responses:
        '201':
          description: Created event
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /events/{id}:
    get:
      tags:
        - events
      summary: Get event by ID
      description: Returns an event by ID
      parameters:
        - $ref: '#/components/parameters/EventId'
      responses:
        '200':
          description: An event
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - events
      summary: Update event
      description: Full update of event
      parameters:
        - $ref: '#/components/parameters/EventId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventRequest'
      responses:
        '200':
          description: Updated event
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - events
      summary: Partially update event
      description: Partial update of event fields
      parameters:
        - $ref: '#/components/parameters/EventId'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EventRequestPartial'
      responses:
        '200':
          description: Updated event
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - events
      summary: Delete event
      description: Delete event by ID
      parameters:
        - $ref: '#/components/parameters/EventId'
      responses:
        '204':
          description: Event deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /tickets:
    get:
      tags:
        - tickets
      summary: Get all tickets
      description: Returns a list of all tickets with optional filters
      parameters:
        - $ref: '#/components/parameters/TicketTypeParam'
        - $ref: '#/components/parameters/StatusParam'
        - $ref: '#/components/parameters/PriorityParam'
        - $ref: '#/components/parameters/UserIdQueryParam'
        - name: author_id
          in: query
          description: Filter by author ID
          schema:
            type: string
            format: uuid
        - name: executor_id
          in: query
          description: Filter by executor ID
          schema:
            type: string
            format: uuid
        - name: parent_ticket_id
          in: query
          description: Filter by parent ticket ID
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
      responses:
        '200':
          description: A list of tickets
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TicketsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - tickets
      summary: Create a new ticket
      description: Creates a new ticket
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TicketRequest'
      responses:
        '201':
          description: Ticket created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TicketResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /tickets/{id}:
    get:
      tags:
        - tickets
      summary: Get ticket by ID
      description: Returns a ticket by ID
      parameters:
        - $ref: '#/components/parameters/TicketId'
      responses:
        '200':
          description: A ticket
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TicketResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - tickets
      summary: Update ticket (full)
      description: Update all fields of a ticket
      parameters:
        - $ref: '#/components/parameters/TicketId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TicketRequest'
      responses:
        '200':
          description: Ticket updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TicketResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - tickets
      summary: Update ticket (partial)
      description: Update some fields of a ticket
      parameters:
        - $ref: '#/components/parameters/TicketId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TicketRequestPartial'
      responses:
        '200':
          description: Ticket updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TicketResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - tickets
      summary: Delete ticket
      description: Delete ticket by ID
      parameters:
        - $ref: '#/components/parameters/TicketId'
      responses:
        '204':
          description: Ticket deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /documents:
    get:
      tags:
        - documents
      summary: Get all documents
      description: Returns a list of all documents with optional filters
      parameters:
        - $ref: '#/components/parameters/UserIdQueryParam'
        - name: document_type
          in: query
          description: Filter by document type
          schema:
            $ref: '#/components/schemas/DocumentType'
        - name: ticket_id
          in: query
          description: Filter by ticket ID
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
      responses:
        '200':
          description: A list of documents
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - documents
      summary: Create a new document
      description: Creates a new document
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DocumentRequest'
      responses:
        '201':
          description: Document created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /documents/{id}:
    get:
      tags:
        - documents
      summary: Get document by ID
      description: Returns a document by ID
      parameters:
        - $ref: '#/components/parameters/DocumentId'
      responses:
        '200':
          description: A document
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - documents
      summary: Update document (full)
      description: Update all fields of a document
      parameters:
        - $ref: '#/components/parameters/DocumentId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DocumentRequest'
      responses:
        '200':
          description: Document updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - documents
      summary: Update document (partial)
      description: Update some fields of a document
      parameters:
        - $ref: '#/components/parameters/DocumentId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DocumentRequestPartial'
      responses:
        '200':
          description: Document updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - documents
      summary: Delete document
      description: Delete document by ID
      parameters:
        - $ref: '#/components/parameters/DocumentId'
      responses:
        '204':
          description: Document deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /notifications:
    get:
      tags:
        - notifications
      summary: Get all notifications
      description: Returns a list of all notifications with optional filters
      parameters:
        - $ref: '#/components/parameters/UserIdQueryParam'
        - name: related_ticket_id
          in: query
          description: Filter by related ticket ID
          schema:
            type: string
            format: uuid
        - name: notification_type
          in: query
          description: Filter by notification type
          schema:
            $ref: '#/components/schemas/NotificationType'
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
      responses:
        '200':
          description: A list of notifications
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - notifications
      summary: Create a new notification
      description: Creates a new notification
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NotificationRequest'
      responses:
        '201':
          description: Notification created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /notifications/{id}:
    get:
      tags:
        - notifications
      summary: Get notification by ID
      description: Returns a notification by ID
      parameters:
        - $ref: '#/components/parameters/NotificationId'
      responses:
        '200':
          description: A notification
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - notifications
      summary: Update notification (partial)
      description: Update some fields of a notification (e.g., mark as read)
      parameters:
        - $ref: '#/components/parameters/NotificationId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NotificationRequestPartial'
      responses:
        '200':
          description: Notification updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotificationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - notifications
      summary: Delete notification
      description: Delete notification by ID
      parameters:
        - $ref: '#/components/parameters/NotificationId'
      responses:
        '204':
          description: Notification deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /appeals:
    get:
      tags:
        - appeals
      summary: Get all appeals
      description: Returns a list of all appeals with optional filters
      parameters:
        - name: ticket_id
          in: query
          description: Filter by ticket ID
          schema:
            type: string
            format: uuid
        - name: created_by
          in: query
          description: Filter by creator ID
          schema:
            type: string
            format: uuid
        - name: checked_by
          in: query
          description: Filter by checker ID
          schema:
            type: string
            format: uuid
        - $ref: '#/components/parameters/StatusParam'
        - name: verdict
          in: query
          description: Filter by verdict
          schema:
            $ref: '#/components/schemas/Verdict'
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
      responses:
        '200':
          description: A list of appeals
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppealsListResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
    post:
      tags:
        - appeals
      summary: Create a new appeal
      description: Creates a new appeal
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppealRequest'
      responses:
        '201':
          description: Appeal created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppealResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  
  /appeals/{id}:
    get:
      tags:
        - appeals
      summary: Get appeal by ID
      description: Returns an appeal by ID
      parameters:
        - $ref: '#/components/parameters/AppealId'
      responses:
        '200':
          description: An appeal
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppealResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      tags:
        - appeals
      summary: Update appeal (full)
      description: Update all fields of an appeal
      parameters:
        - $ref: '#/components/parameters/AppealId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppealRequest'
      responses:
        '200':
          description: Appeal updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppealResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags:
        - appeals
      summary: Update appeal (partial)
      description: Update some fields of an appeal
      parameters:
        - $ref: '#/components/parameters/AppealId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AppealRequestPartial'
      responses:
        '200':
          description: Appeal updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AppealResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags:
        - appeals
      summary: Delete appeal
      description: Delete appeal by ID
      parameters:
        - $ref: '#/components/parameters/AppealId'
      responses:
        '204':
          description: Appeal deleted successfully
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /auth/register:
    post:
      tags:
        - auth
      summary: Register a new user
      description: Creates a new user account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '201':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '409':
          $ref: '#/components/responses/Conflict'
  
  /auth/login:
    post:
      tags:
        - auth
      summary: User login
      description: Authenticates a user and returns access token
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /auth/logout:
    post:
      tags:
        - auth
      summary: User logout
      description: Invalidates the current user session
      responses:
        '204':
          description: Logout successful
        '401':
          $ref: '#/components/responses/Unauthorized'

  /auth/refresh:
    post:
      tags:
        - auth
      summary: Refresh access token
      description: Returns a new access token using refresh token
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshRequest'
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /auth/reset-password:
    post:
      tags:
        - auth
      summary: Reset password
      description: Sends password reset instructions to user email
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
      responses:
        '204':
          description: Password reset instructions sent
        '400':
          $ref: '#/components/responses/BadRequest'
        '404':
          $ref: '#/components/responses/NotFound'

  /auth/me:
    get:
      tags:
        - auth
      summary: Get current user
      description: Returns information about the currently authenticated user
      responses:
        '200':
          description: Current user information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /reports:
    get:
      tags:
        - reports
      summary: Get reports
      description: Returns various reports and analytics data
      parameters:
        - name: report_type
          in: query
          description: Type of report to generate
          schema:
            type: string
            enum:
              - shift_summary
              - user_performance
              - ticket_statistics
              - upk_analytics
              - inspector_errors
            example: 'shift_summary'
        - $ref: '#/components/parameters/UpkIdQueryParam'
        - $ref: '#/components/parameters/UserIdQueryParam'
        - $ref: '#/components/parameters/ShiftIdQueryParam'
        - name: date_from
          in: query
          description: Start date for report
          schema:
            type: string
            format: date
            example: '2024-06-01'
        - name: date_to
          in: query
          description: End date for report
          schema:
            type: string
            format: date
            example: '2024-06-30'
        - $ref: '#/components/parameters/OffsetParam'
        - $ref: '#/components/parameters/LimitParam'
      responses:
        '200':
          description: Report data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

components:
  responses:
    BadRequest:
      description: Bad Request - Invalid input data
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: 'INVALID_INPUT'
            message: 'Invalid input data provided'
    Unauthorized:
      description: Unauthorized - Missing or invalid authentication
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: 'UNAUTHORIZED'
            message: 'Authentication token is missing or invalid'
    Forbidden:
      description: Forbidden - Insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: 'FORBIDDEN'
            message: 'You do not have permission to access this resource'
    NotFound:
      description: Not Found - Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: 'NOT_FOUND'
            message: 'The requested resource was not found'
    Conflict:
      description: Conflict - Resource already exists
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: 'CONFLICT'
            message: 'Resource with this identifier already exists'
    InternalError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: 'INTERNAL_ERROR'
            message: 'An unexpected error occurred. Please try again later.'
  parameters:
    UserId:
      name: id
      in: path
      required: true
      schema:
        type: string
        example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
    UpkId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'f47ac10b-58cc-4372-a567-0e02b2c3d479'
    ShiftId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
    ParticipationId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'd4e5f6a7-b8c9-0123-4567-890abcdef012'
    EventId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'e6f7a8b9-c0d1-2345-6789-0abcdef12345'
    UpkIdQueryParam:
      name: upk_id
      in: query
      required: false
      schema:
        type: string
        format: uuid
      description: Filter by UPK ID
    ShiftDateParam:
      name: shift_date
      in: query
      required: false
      schema:
        type: string
        format: date-time
      description: Filter by shift date
    CreatedByParam:
      name: created_by
      in: query
      required: false
      schema:
        type: string
        format: uuid
      description: Filter by creator ID
    RoleIdQueryParam:
      name: role_id
      in: query
      required: false
      schema:
        type: integer
      description: Filter by role ID
    BossIdQueryParam:
      name: boss_id
      in: query
      required: false
      schema:
        type: string
        format: uuid
      description: Filter by boss ID
    UserIdQueryParam:
      name: user_id
      in: query
      required: false
      schema:
        type: string
        format: uuid
      description: Filter by user ID
    ShiftIdQueryParam:
      name: shift_id
      in: query
      required: false
      schema:
        type: string
        format: uuid
      description: Filter by shift ID
    OffsetParam:
      name: offset
      in: query
      required: false
      schema:
        type: integer
        minimum: 0
        default: 0
        example: 0
    LimitParam:
      name: limit
      in: query
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
        example: 20
    TicketId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'b1c2d3e4-f5a6-7890-bcde-f12345678901'
    TicketTypeParam:
      name: ticket_type
      in: query
      required: false
      schema:
        $ref: '#/components/schemas/TicketType'
      description: Filter by ticket type
    StatusParam:
      name: status
      in: query
      required: false
      schema:
        $ref: '#/components/schemas/Status'
      description: Filter by status
    PriorityParam:
      name: priority
      in: query
      required: false
      schema:
        $ref: '#/components/schemas/Priority'
      description: Filter by priority
    DocumentId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'c3d4e5f6-a7b8-9012-cdef-123456789012'
    NotificationId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'd4e5f6a7-b8c9-0123-4567-890abcdef123'
    AppealId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
        example: 'e5f6a7b8-c9d0-1234-5678-90abcdef1234'
  schemas:
    ErrorResponse:
        type: object
        properties:
          code:
            type: string
            description: Machine-readable error code
            example: 'USER_NOT_FOUND'
          message:
            type: string
            description: Human-readable error message
            example: 'User with id 520e073f-a2c3-40d4-a6ce-5ef72ba90b90 not found'
        required:
          - code
          - message
    UserResponse:
      type: object
      properties:
        id:
          type: string
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        name:
          type: string
          example: 'Ivan Ivanov'
        email:
          type: string
          example: 'ivanov@ya.ru'
        role:
          $ref: '#/components/schemas/Role'
          example: migrant
        upkId:
          type: string
          format: uuid
          example: 'b50cbfb0-bcf9-4808-bcb1-f2024af7f2e1'
      required:
        - id
        - name
        - email
        - role
    UsersListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 100
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
        items:
          type: array
          $ref: '#/components/schemas/UserResponse'
    UserRequest: 
      type: object
      properties:
        name:
          type: string
          example: 'Ivan Ivanov'
        email:
          type: string
          example: 'ivanov@ya.ru'
        role:
          $ref: '#/components/schemas/Role'
          example: migrant
        upkId:
          type: string
          format: uuid
          example: 'b50cbfb0-bcf9-4808-bcb1-f2024af7f2e1'
      required:
        - name
        - email
        - role
    UserRequestPartial:
      type: object
      properties:
        name:
          type: string
          example: 'Ivan Ivanov'
        email:
          type: string
          example: 'ivanov@ya.ru'
        role:
          $ref: '#/components/schemas/Role'
          example: migrant
        upkId:
          type: string
          format: uuid
          example: 'b50cbfb0-bcf9-4808-bcb1-f2024af7f2e1'
    Role:
      type: string
      enum:
        - migrant
        - inspector 
        - boss
        - security
        - god
    Region:
      type: string
      enum:
        - Orvech_Vonor
        - East_Grestin
        - Paradizna
    Specialization:
      type: string
      enum:
        - passport
        - locals
        - work
        - transit
        - special
    Priority:
      type: string
      enum:
        - low
        - normal
        - high
        - critical
    UpkResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'f47ac10b-58cc-4372-a567-0e02b2c3d479'
        name:
          type: string
          example: 'East Grestin Checkpoint'
        bossId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        region:
          $ref: '#/components/schemas/Region'
      required:
        - id
        - name
        - bossId
        - region
    UpkRequest:
      type: object
      properties:
        name:
          type: string
          example: 'East Grestin Checkpoint'
        bossId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        region:
          $ref: '#/components/schemas/Region'
      required:
        - name
        - bossId
        - region
    UpkRequestPartial:
      type: object
      properties:
        name:
          type: string
          example: 'East Grestin Checkpoint'
        bossId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        region:
          $ref: '#/components/schemas/Region'
    UpksListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 10
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/UpkResponse'
      required:
        - total
        - limit
        - offset
        - items
    ShiftResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
        shiftDate:
          type: string
          format: date-time
          example: '2024-06-01T08:00:00Z'
        createdBy:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        upkId:
          type: string
          format: uuid
          example: 'f47ac10b-58cc-4372-a567-0e02b2c3d479'
      required:
        - id
        - shiftDate
        - createdBy
        - upkId
    ShiftRequest:
      type: object
      properties:
        shiftDate:
          type: string
          format: date-time
          example: '2024-06-01T08:00:00Z'
        createdBy:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        upkId:
          type: string
          format: uuid
          example: 'f47ac10b-58cc-4372-a567-0e02b2c3d479'
      required:
        - shiftDate
        - createdBy
        - upkId
    ShiftRequestPartial:
      type: object
      properties:
        shiftDate:
          type: string
          format: date-time
          example: '2024-06-01T08:00:00Z'
    ShiftsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 50
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/ShiftResponse'
      required:
        - total
        - limit
        - offset
        - items
    ParticipationResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'd4e5f6a7-b8c9-0123-4567-890abcdef012'
        userId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        shiftId:
          type: string
          format: uuid
          example: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
        coeffBonus:
          type: number
          format: float
          minimum: 0
          default: 1.0
          example: 1.2
        coeffPenalty:
          type: number
          format: float
          minimum: 0
          default: 0.0
          example: 0.0
        specialization:
          $ref: '#/components/schemas/Specialization'
      required:
        - id
        - userId
        - shiftId
        - coeffBonus
        - coeffPenalty
        - specialization
    ParticipationRequest:
      type: object
      properties:
        userId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        shiftId:
          type: string
          format: uuid
          example: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
        coeffBonus:
          type: number
          format: float
          minimum: 0
          default: 1.0
          example: 1.0
        coeffPenalty:
          type: number
          format: float
          minimum: 0
          default: 0.0
          example: 0.0
        specialization:
          $ref: '#/components/schemas/Specialization'
      required:
        - userId
        - shiftId
        - specialization
    ParticipationRequestPartial:
      type: object
      properties:
        coeffBonus:
          type: number
          format: float
          minimum: 0
          example: 1.5
        coeffPenalty:
          type: number
          format: float
          minimum: 0
          example: 0.2
        specialization:
          $ref: '#/components/schemas/Specialization'
    ParticipationsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 100
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/ParticipationResponse'
      required:
        - total
        - limit
        - offset
        - items
    EventResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'e6f7a8b9-c0d1-2345-6789-0abcdef12345'
        shiftId:
          type: string
          format: uuid
          example: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
        description:
          type: string
          example: '    '
        priority:
          $ref: '#/components/schemas/Priority'
      required:
        - id
        - shiftId
        - description
        - priority
    EventRequest:
      type: object
      properties:
        shiftId:
          type: string
          format: uuid
          example: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
        description:
          type: string
          example: '    '
        priority:
          $ref: '#/components/schemas/Priority'
          default: normal
      required:
        - shiftId
        - description
    EventRequestPartial:
      type: object
      properties:
        description:
          type: string
          example: '  '
        priority:
          $ref: '#/components/schemas/Priority'
    EventsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 25
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/EventResponse'
      required:
        - total
        - limit
        - offset
        - items
    TicketType:
      type: string
      enum:
        - external
        - internal
        - arrest
        - crosscheck
        - appeal
        - other
      example: 'external'
    Status:
      type: string
      enum:
        - open
        - in_progress
        - need_info
        - closed
        - rejected
        - timeout
      example: 'open'
    TicketResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'b1c2d3e4-f5a6-7890-bcde-f12345678901'
        ticketType:
          $ref: '#/components/schemas/TicketType'
        status:
          $ref: '#/components/schemas/Status'
        priority:
          $ref: '#/components/schemas/Priority'
        createdAt:
          type: string
          format: date-time
          example: '2024-06-01T10:30:00Z'
        updatedAt:
          type: string
          format: date-time
          example: '2024-06-01T14:20:00Z'
        deadlineAt:
          type: string
          format: date
          example: '2024-06-05'
        resolvedAt:
          type: string
          format: date
          nullable: true
          example: '2024-06-03'
        authorId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        executorId:
          type: string
          format: uuid
          nullable: true
          example: '620e073f-a2c3-40d4-a6ce-5ef72ba90b91'
        parentTicketId:
          type: string
          format: uuid
          nullable: true
          example: 'c2d3e4f5-a6b7-8901-cdef-012345678902'
      required:
        - id
        - ticketType
        - status
        - priority
        - createdAt
        - updatedAt
        - authorId
    TicketRequest:
      type: object
      properties:
        ticketType:
          $ref: '#/components/schemas/TicketType'
        status:
          $ref: '#/components/schemas/Status'
        priority:
          $ref: '#/components/schemas/Priority'
        deadlineAt:
          type: string
          format: date
          example: '2024-06-05'
        authorId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        executorId:
          type: string
          format: uuid
          nullable: true
          example: '620e073f-a2c3-40d4-a6ce-5ef72ba90b91'
        parentTicketId:
          type: string
          format: uuid
          nullable: true
          example: 'c2d3e4f5-a6b7-8901-cdef-012345678902'
      required:
        - ticketType
        - status
        - authorId
    TicketRequestPartial:
      type: object
      properties:
        ticketType:
          $ref: '#/components/schemas/TicketType'
        status:
          $ref: '#/components/schemas/Status'
        priority:
          $ref: '#/components/schemas/Priority'
        deadlineAt:
          type: string
          format: date
          example: '2024-06-05'
        executorId:
          type: string
          format: uuid
          nullable: true
          example: '620e073f-a2c3-40d4-a6ce-5ef72ba90b91'
        resolvedAt:
          type: string
          format: date
          nullable: true
          example: '2024-06-03'
    TicketsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 150
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/TicketResponse'
      required:
        - total
        - limit
        - offset
        - items
    DocumentType:
      type: string
      enum:
        - passport
        - visa
        - certificate
        - work_permit
        - photo
        - diplomatic_passport
        - other
      example: 'passport'
    DocumentResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'c3d4e5f6-a7b8-9012-cdef-123456789012'
        userId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        documentType:
          $ref: '#/components/schemas/DocumentType'
        body:
          type: object
          description: Document content as JSON
          example: {"number": "123456", "issued_by": " "}
        validFrom:
          type: string
          format: date
          nullable: true
          example: '2024-01-01'
        validUntil:
          type: string
          format: date
          nullable: true
          example: '2026-01-01'
      required:
        - id
        - userId
        - documentType
    DocumentRequest:
      type: object
      properties:
        userId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        documentType:
          $ref: '#/components/schemas/DocumentType'
        body:
          type: object
          description: Document content as JSON
          example: {"number": "123456", "issued_by": " "}
        validFrom:
          type: string
          format: date
          nullable: true
          example: '2024-01-01'
        validUntil:
          type: string
          format: date
          nullable: true
          example: '2026-01-01'
      required:
        - userId
        - documentType
    DocumentRequestPartial:
      type: object
      properties:
        documentType:
          $ref: '#/components/schemas/DocumentType'
        body:
          type: object
          description: Document content as JSON
          example: {"number": "123456", "issued_by": " "}
        validFrom:
          type: string
          format: date
          nullable: true
          example: '2024-01-01'
        validUntil:
          type: string
          format: date
          nullable: true
          example: '2026-01-01'
    DocumentsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 80
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/DocumentResponse'
      required:
        - total
        - limit
        - offset
        - items
    NotificationType:
      type: string
      enum:
        - ticket_status_change
        - ticket_assigned
        - shift_invitation
        - appeal_result
        - event_update
        - system
      example: 'ticket_assigned'
    NotificationResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'd4e5f6a7-b8c9-0123-4567-890abcdef123'
        userId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        relatedTicketId:
          type: string
          format: uuid
          nullable: true
          example: 'b1c2d3e4-f5a6-7890-bcde-f12345678901'
        message:
          type: string
          example: '   '
        notificationType:
          $ref: '#/components/schemas/NotificationType'
        sentAt:
          type: string
          format: date-time
          example: '2024-06-01T10:30:00Z'
        isRead:
          type: boolean
          example: false
      required:
        - id
        - userId
        - message
        - notificationType
        - sentAt
    NotificationRequest:
      type: object
      properties:
        userId:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        relatedTicketId:
          type: string
          format: uuid
          nullable: true
          example: 'b1c2d3e4-f5a6-7890-bcde-f12345678901'
        message:
          type: string
          example: '   '
        notificationType:
          $ref: '#/components/schemas/NotificationType'
      required:
        - userId
        - message
        - notificationType
    NotificationRequestPartial:
      type: object
      properties:
        isRead:
          type: boolean
          example: true
    NotificationsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 35
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/NotificationResponse'
      required:
        - total
        - limit
        - offset
        - items
    Verdict:
      type: string
      enum:
        - approved
        - rejected
        - punish_executor
        - punish_checker
        - punish_both
        - no_punish
      example: 'approved'
    AppealResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 'e5f6a7b8-c9d0-1234-5678-90abcdef1234'
        ticketId:
          type: string
          format: uuid
          example: 'b1c2d3e4-f5a6-7890-bcde-f12345678901'
        createdBy:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        status:
          $ref: '#/components/schemas/Status'
        verdict:
          $ref: '#/components/schemas/Verdict'
        comment:
          type: string
          nullable: true
          example: '  '
        createdAt:
          type: string
          format: date-time
          example: '2024-06-01T15:00:00Z'
        checkedBy:
          type: string
          format: uuid
          nullable: true
          example: '620e073f-a2c3-40d4-a6ce-5ef72ba90b91'
        checkedAt:
          type: string
          format: date-time
          nullable: true
          example: '2024-06-02T10:00:00Z'
      required:
        - id
        - ticketId
        - createdBy
        - status
        - verdict
        - createdAt
    AppealRequest:
      type: object
      properties:
        ticketId:
          type: string
          format: uuid
          example: 'b1c2d3e4-f5a6-7890-bcde-f12345678901'
        createdBy:
          type: string
          format: uuid
          example: '520e073f-a2c3-40d4-a6ce-5ef72ba90b90'
        status:
          $ref: '#/components/schemas/Status'
        verdict:
          $ref: '#/components/schemas/Verdict'
        comment:
          type: string
          nullable: true
          example: '  '
      required:
        - ticketId
        - createdBy
        - status
        - verdict
    AppealRequestPartial:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status'
        verdict:
          $ref: '#/components/schemas/Verdict'
        comment:
          type: string
          nullable: true
          example: ' '
        checkedBy:
          type: string
          format: uuid
          nullable: true
          example: '620e073f-a2c3-40d4-a6ce-5ef72ba90b91'
        checkedAt:
          type: string
          format: date-time
          nullable: true
          example: '2024-06-02T10:00:00Z'
    AppealsListResponse:
      type: object
      properties:
        total:
          type: integer
          example: 12
        limit:
          type: integer
          minimum: 0
          maximum: 100
          example: 20
        offset:
          type: integer
          minimum: 0
          example: 0
        items:
          type: array
          items:
            $ref: '#/components/schemas/AppealResponse'
      required:
        - total
        - limit
        - offset
        - items
    RegisterRequest:
      type: object
      properties:
        name:
          type: string
          example: ' '
        email:
          type: string
          format: email
          example: 'ivan@example.com'
        password:
          type: string
          format: password
          example: 'SecurePass123!'
        roleId:
          type: integer
          example: 5
        upkId:
          type: string
          format: uuid
          nullable: true
          example: 'f47ac10b-58cc-4372-a567-0e02b2c3d479'
      required:
        - name
        - email
        - password
        - roleId
    LoginRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: 'ivan@example.com'
        password:
          type: string
          format: password
          example: 'SecurePass123!'
      required:
        - email
        - password
    RefreshRequest:
      type: object
      properties:
        refreshToken:
          type: string
          example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
      required:
        - refreshToken
    ResetPasswordRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: 'ivan@example.com'
      required:
        - email
    AuthResponse:
      type: object
      properties:
        accessToken:
          type: string
          example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
        refreshToken:
          type: string
          example: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
        user:
          $ref: '#/components/schemas/UserResponse'
      required:
        - accessToken
        - refreshToken
        - user
    ReportResponse:
      type: object
      properties:
        reportType:
          type: string
          example: 'shift_summary'
        generatedAt:
          type: string
          format: date-time
          example: '2024-06-15T12:00:00Z'
        data:
          type: object
          description: Report data (structure varies by report type)
          example: {
            "totalShifts": 30,
            "totalTickets": 450,
            "avgResolutionTime": "2.5 hours",
            "topPerformers": [
              {"userId": "520e073f-a2c3-40d4-a6ce-5ef72ba90b90", "ticketsProcessed": 85}
            ]
          }
        summary:
          type: string
          nullable: true
          example: 'Report for June 2024'
      required:
        - reportType
        - generatedAt
        - data
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
